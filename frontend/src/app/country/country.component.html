<div class="party-list">
  <h2>{{ countryName }}: Kompozycja Parlamentu</h2>

  <!-- Support Graph Component -->
  <app-support-graph *ngIf="getPartiesForGraph().length > 0" [parties]="getPartiesForGraph()"></app-support-graph>

  <!-- List of Parties with MPs -->
  <div class="party-container">
    <div *ngFor="let party of getPartiesForList()" class="party-item" [ngStyle]="{'margin-left': (party.subLevel * 50) + 'px'}">
      <div class="party-details">
        <div class="party-color-bar" [ngStyle]="{'background': getPartyColorGradient(party)}"></div>
        <div class="party-info">
          <h3>{{ party.acronym }}</h3>
          <p *ngIf="party.localName">{{ party.localName.join(', ') }}</p>
          <div class="party-groups" *ngIf="party.group && party.group.size>0">
            <p>{{ getPartyGroups(party) }}</p>
          </div>
          <p>Liczba posłów: {{ party.mp || 0 }}</p>
          <p>Rola: {{ getRoles(party) }}</p>
        </div>
        <div class="party-graph-container">
          <app-party-graph [party]="party" [leftIcons]="true" [rightIcons]="true" class="party-graph"></app-party-graph>
        </div>
      </div>
    </div>
  </div>
</div>
